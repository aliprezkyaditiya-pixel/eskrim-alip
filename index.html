<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Toko Eskrim Alief</title>
  <meta name="description" content="Toko Eskrim Alief â€” pilih rasa, cone/mangkok, ukuran. Cash. Dapat order ID, cek status, dan dashboard owner (tanpa database)." />
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <!-- Audio element (local MP3) -->
  <audio id="vibesAudio" src="./vibes.mp3" preload="auto" loop></audio>

  <!-- Overlay audio gate -->
  <div class="overlay" id="audioOverlay" role="dialog" aria-modal="true" aria-label="Audio prompt">
    <div class="overlay-card">
      <div class="overlay-icon" aria-hidden="true">ğŸ”Š</div>
      <h2>Dengerin dulu vibes eskrimnya ğŸ¦</h2>
      <p>
        Naikkan volume speaker kamu biar kerasa suasana jualan eskrimnya.
        Setelah klik <b>Mulai</b>, musik akan diputar.
      </p>

      <div class="overlay-actions">
        <button class="btn" id="btnStartAudio">Mulai</button>
        <button class="btn btn-ghost" id="btnNoAudio">Lanjut tanpa suara</button>
      </div>

      <div class="tiny">
        *Autoplay dengan suara tanpa klik biasanya diblokir browser, jadi perlu klik â€œMulaiâ€.
      </div>
    </div>
  </div>

  <!-- Cursor ice cream -->
  <div id="cursorIce" aria-hidden="true">
    <div class="cursorBubble"><span>ğŸ¦</span></div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="brand">
        <div class="logo" aria-hidden><span>ğŸ¦</span></div>
        <div>
          <h1>Toko Eskrim Alief</h1>
          <div class="sub">Rasa banyak â€¢ Cone/Mangkok â€¢ Small/Medium/Large â€¢ Cash</div>
        </div>
      </div>

      <nav class="nav">
        <button class="pill" data-nav="#home">Home</button>
        <button class="pill" data-nav="#order">Pesan</button>
        <button class="pill" data-nav="#check">Cek Order</button>
        <button class="pill" data-nav="#owner-login">Owner</button>
      </nav>
    </header>

    <!-- HOME / LANDING -->
    <main class="page active" id="page-home">
      <section class="hero card">
        <div class="hero-left">
          <div class="badge">ğŸ¨ Fresh tiap hari â€¢ dibuat dengan cinta</div>
          <h2 class="hero-title">
            Eskrim yang bikin <span class="accent">mood langsung naik</span>.
          </h2>
          <p class="hero-desc">
            Pilih rasa favoritmu, tentukan cone atau mangkok, dan pilih ukuran.
            Bayar <b>cash</b> dan setelah order kamu akan dapat <b>Order ID</b>.
            <br/><br/>
            Setelah itu: <b>silahkan datang ke Alief</b> untuk ambil eskrim kamu ğŸ˜„
          </p>

          <div class="hero-actions">
            <button class="btn" data-nav="#order">Pesan Sekarang</button>
            <button class="btn btn-ghost" data-nav="#check">Cek Order ID</button>
          </div>

          <div class="trust">
            <div class="trust-item">
              <div class="trust-title">âœ… Cepat</div>
              <div class="trust-desc">Order beres, tinggal ambil.</div>
            </div>
            <div class="trust-item">
              <div class="trust-title">ğŸ¦ Banyak rasa</div>
              <div class="trust-desc">Nggak cuma vanilla.</div>
            </div>
            <div class="trust-item">
              <div class="trust-title">ğŸ’µ Cash</div>
              <div class="trust-desc">Simple, no ribet.</div>
            </div>
          </div>
        </div>

        <div class="hero-right">
          <!-- Inline SVG -->
          <div class="ice-illustration" aria-hidden="true">
            <svg viewBox="0 0 260 320" width="260" height="320">
              <defs>
                <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
                  <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="rgba(31,41,55,.20)"/>
                </filter>
              </defs>

              <path d="M50 250 C40 190, 70 130, 130 140 C200 150, 240 200, 220 260 C200 320, 90 320, 50 250 Z"
                    fill="#FFE9D6" />

              <path d="M120 140 L70 290 Q130 315 190 290 L140 140 Z"
                    fill="#E7B48E" filter="url(#s)"/>
              <path d="M96 210 L164 210" stroke="#D39B75" stroke-width="5" opacity=".6"/>
              <path d="M88 238 L172 238" stroke="#D39B75" stroke-width="5" opacity=".6"/>
              <path d="M80 266 L180 266" stroke="#D39B75" stroke-width="5" opacity=".6"/>

              <circle cx="130" cy="115" r="62" fill="#FFF2D9" filter="url(#s)"/>
              <circle cx="165" cy="85" r="48" fill="#FFD8E1" filter="url(#s)"/>
              <circle cx="105" cy="78" r="46" fill="#E6FFF1" filter="url(#s)"/>

              <path d="M78 120 C100 135, 125 125, 155 140 C175 150, 190 140, 205 155"
                    fill="none" stroke="#F59E0B" stroke-width="10" stroke-linecap="round" opacity=".9"/>

              <circle cx="175" cy="35" r="14" fill="#FF3B30" filter="url(#s)"/>
              <path d="M175 35 C170 20, 160 15, 150 10" stroke="#1F2937" stroke-width="4" fill="none" stroke-linecap="round"/>
              <path d="M150 10 C156 8, 162 10, 165 16" fill="#22C55E" opacity=".9"/>
            </svg>
          </div>

          <div class="quote card-lite">
            <div class="quote-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="quote-text">
              â€œRasanya nagih. Cone-nya renyah, eskrimnya lembut. Wajib coba!â€
            </div>
            <div class="quote-by">â€” pelanggan yang lagi bahagia</div>
          </div>
        </div>
      </section>

      <section class="card section">
        <div class="section-head">
          <h3>Menu rasa favorit</h3>
          <p>Pilih yang paling kamu suka. Semua bisa cone atau mangkok.</p>
        </div>
        <div class="flavors" id="flavorCards"></div>
      </section>

      <section class="card section">
        <div class="section-head">
          <h3>Gimana cara order?</h3>
          <p>Gampang banget.</p>
        </div>

        <div class="steps">
          <div class="step">
            <div class="step-num">1</div>
            <div>
              <div class="step-title">Pilih rasa & ukuran</div>
              <div class="step-desc">Cone/mangkok + small/medium/large.</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num">2</div>
            <div>
              <div class="step-title">Konfirmasi (cash)</div>
              <div class="step-desc">Order dibuat & kamu dapat Order ID.</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num">3</div>
            <div>
              <div class="step-title">Datang ke Alief</div>
              <div class="step-desc">Tunjukkan Order ID untuk ambil eskrim.</div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- ORDER PAGE -->
    <section class="page" id="page-order">
      <div class="grid">
        <div class="card">
          <h2 class="sectionTitle">Pesan Eskrim</h2>

          <div class="row">
            <div>
              <div class="label">Rasa</div>
              <select class="select" id="flavor"></select>
            </div>

            <div>
              <div class="label">Wadah</div>
              <select class="select" id="container">
                <option value="Cone">Cone</option>
                <option value="Mangkok">Mangkok</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <div class="label">Ukuran</div>
              <select class="select" id="size">
                <option value="Small">Small</option>
                <option value="Medium" selected>Medium</option>
                <option value="Large">Large</option>
              </select>
            </div>

            <div>
              <div class="label">Jumlah</div>
              <input class="input" id="qty" type="number" min="1" value="1" />
            </div>
          </div>

          <div class="row">
            <div>
              <div class="label">Nama (opsional)</div>
              <input class="input" id="buyerName" placeholder="Contoh: Alief" />
            </div>

            <div>
              <div class="label">Pembayaran</div>
              <div class="mutedBox" style="height:44px; display:flex; align-items:center;">
                <b>Cash</b>&nbsp;<span class="tiny">(bayar saat ambil)</span>
              </div>
            </div>
          </div>

          <div class="mutedBox" style="margin-top:10px;">
            Setelah order berhasil: <b>silahkan datang ke Alief</b> dan tunjukkan <b>Order ID</b>.
          </div>

          <div class="hr"></div>

          <button class="btn" id="btnOrder">
            Konfirmasi Pesanan â€¢ <span id="priceTop">Rp0</span>
          </button>
          <div class="tiny" style="margin-top:10px;">Simpan Order ID kamu ya ğŸ˜‰</div>
        </div>

        <div class="card">
          <h2 class="sectionTitle">Ringkasan</h2>
          <div class="price" id="priceBig">Rp0</div>
          <div class="tiny" id="summaryLine">Rasa â€¢ Cone â€¢ Medium â€¢ Qty 1</div>

          <div class="hr"></div>

          <div class="card-lite">
            <div class="lite-title">Paling laris minggu ini</div>
            <div class="lite-desc">Cokelat Large cone + drizzle. Mantap.</div>
          </div>

          <div class="hr"></div>

          <div class="mutedBox">
            <b>No database:</b> order disimpan di browser ini (localStorage). Dashboard owner hanya lihat order dari perangkat yang sama.
          </div>
        </div>
      </div>
    </section>

    <!-- SUCCESS -->
    <section class="page" id="page-success">
      <div class="card">
        <div class="success">
          <div class="check">âœ“</div>
          <div>
            <h2 class="sectionTitle" style="margin-bottom:6px;">Terima kasih sudah membeli! ğŸ‰</h2>
            <div class="tiny">
              Pesanan kamu berhasil dibuat. Pembayaran: <b>Cash</b>.
              <br/>Silahkan datang ke <b>Alief</b> untuk ambil eskrim kamu ğŸ˜„
            </div>

            <div class="hr"></div>

            <div class="actions">
              <span class="badge">Order ID: <span class="kbd" id="successOrderId">-</span></span>
              <button class="pill" id="btnCopyId">Copy ID</button>
              <button class="pill" data-nav="#check" id="goCheckFromSuccess">Cek status</button>
              <button class="pill" data-nav="#order">Pesan lagi</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CHECK -->
    <section class="page" id="page-check">
      <div class="grid">
        <div class="card">
          <h2 class="sectionTitle">Cek Order ID</h2>
          <div class="label">Masukkan Order ID</div>
          <input class="input" id="checkId" placeholder="Contoh: ALIEF-20260115-XXXXXX" />
          <div style="height:10px;"></div>
          <button class="btn" id="btnCheck">Cek Status</button>
          <div class="tiny" id="checkMsg" style="margin-top:12px;"></div>
        </div>

        <div class="card">
          <h2 class="sectionTitle">Hasil</h2>
          <div class="mutedBox" id="checkResult">
            Belum ada hasil. Masukkan Order ID lalu klik <b>Cek Status</b>.
            <div class="hr"></div>
            Tanpa database, cek order hanya bekerja untuk order yang pernah dibuat di browser/perangkat ini.
          </div>
        </div>
      </div>
    </section>

    <!-- OWNER LOGIN -->
    <section class="page" id="page-owner-login">
      <div class="grid">
        <div class="card">
          <h2 class="sectionTitle">Owner Login</h2>

          <div class="mutedBox" style="margin-bottom:12px;">
            Dashboard versi no-DB (client-side).<br/>
            Password default: <span class="kbd">owner123</span> (bisa kamu ganti di <b>app.js</b>).
          </div>

          <div class="label">Password</div>
          <input class="input" id="ownerPass" type="password" placeholder="Masukkan password owner" />
          <div style="height:10px;"></div>
          <button class="btn" id="btnOwnerLogin">Masuk Dashboard</button>
          <div class="tiny" id="ownerErr" style="margin-top:12px;"></div>

          <div class="hr"></div>
          <button class="btn btn-ghost" id="btnOwnerGoDash">Buka Dashboard (kalau sudah login)</button>
        </div>

        <div class="card">
          <h2 class="sectionTitle">Info</h2>
          <div class="mutedBox">
            Kalau mau order masuk ke dashboard owner dari perangkat lain, perlu storage server (Vercel KV/Upstash/Sheets).
            Tapi versi ini cocok untuk demo & cepat deploy.
          </div>
        </div>
      </div>
    </section>

    <!-- OWNER DASH -->
    <section class="page" id="page-owner-dash">
      <div class="card">
        <div class="ownerTop">
          <div>
            <h2 class="sectionTitle" style="margin:0;">Dashboard Owner</h2>
            <div class="tiny">Lihat & konfirmasi order (mode lokal tanpa database)</div>
          </div>
          <div class="dashActions">
            <button class="pill" id="btnRefresh">Refresh</button>
            <button class="pill" id="btnLogout">Logout</button>
          </div>
        </div>

        <div class="hr"></div>

        <div class="filters">
          <span class="tiny">Filter:</span>
          <button class="pill" data-filter="ALL">Semua</button>
          <button class="pill" data-filter="NEW">Baru</button>
          <button class="pill" data-filter="CONFIRMED">Terkonfirmasi</button>
        </div>

        <div class="hr"></div>

        <div id="dashEmpty" class="mutedBox" style="display:none;">
          Belum ada order untuk ditampilkan.
          <div class="hr"></div>
          Coba buat order dari menu <span class="kbd">Pesan</span>.
        </div>

        <div class="tableWrap">
          <table id="dashTable" style="display:none; min-width:760px;">
            <thead>
              <tr>
                <th>Order</th>
                <th>Detail</th>
                <th>Status</th>
                <th>Aksi</th>
              </tr>
            </thead>
            <tbody id="dashBody"></tbody>
          </table>
        </div>

        <div class="hr"></div>
        <div class="tiny">
          Karena ini localStorage, list order bisa beda kalau buka di browser/perangkat lain.
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="tiny">
        Â© <span id="year"></span> Toko Eskrim Alief â€¢ Cash â€¢ Ambil pesanan: <b>datang ke Alief</b>
      </div>
    </footer>
  </div>

  <script src="./app.js"></script>
</body>
</html>
